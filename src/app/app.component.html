<mat-toolbar color="primary" class="navbar">
  <div>Hasta Kayıt</div>

</mat-toolbar>



<mat-card>

  <mat-grid-list cols="5" rowHeight="60px">

    <mat-grid-tile>
      <mat-form-field class="example-full-width" appearance="fill">
        <mat-label>Pol. Kodu</mat-label>
        <input matInput #polkod type="text" maxlength="4" required minlength="4"
          [(ngModel)]="patient.policliniC_CODE" />
        <mat-hint align="end">{{polkod.value.length}} / 4</mat-hint>
      </mat-form-field>
    </mat-grid-tile>


    <mat-grid-tile>
      <mat-form-field class="example-full-width" appearance="fill">
        <mat-label>Doktro Sicil No</mat-label>
        <input matInput type="number" #docrec pattern="/^-?\d+\.?\d*$/"
          onKeyPress="if(this.value.length==5) return false;" required [(ngModel)]="patient.doctoR_REC_ID" />
        <mat-hint align="end">{{docrec.value.length}} / 5</mat-hint>
      </mat-form-field>
    </mat-grid-tile>

    <mat-grid-tile>
      <mat-form-field class="example-full-width" appearance="fill">
        <mat-label>Doktor Adı Soyadı</mat-label>
        <input matInput type="text" [(ngModel)]="patient.doctoR_NAME_SURNAME" required />

      </mat-form-field>
    </mat-grid-tile>

    <mat-grid-tile>
      <mat-form-field class="example-full-width" appearance="fill">
        <mat-label>Hasta Adı</mat-label>
        <input matInput type="text" [(ngModel)]="patient.patienT_NAME" required />

      </mat-form-field>
    </mat-grid-tile>

    <mat-grid-tile>
      <mat-form-field class="example-full-width" appearance="fill">
        <mat-label>Hasta Soyadı</mat-label>
        <input matInput type="text" [(ngModel)]="patient.patienT_SURNAME" required />

      </mat-form-field>
    </mat-grid-tile>

    <mat-grid-tile>
      <mat-form-field appearance="fill">
        <mat-label>Hasta Doğum Tarihi</mat-label>
        <input matInput [matDatepicker]="picker" [(ngModel)]="patient.patienT_BIRTHDAY" required />

        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>
    </mat-grid-tile>

    <mat-grid-tile>
      <mat-form-field appearance="fill">
        <mat-label>Cinsiyet</mat-label>
        <mat-select [(ngModel)]="patient.patienT_SEX" required>
          <mat-option *ngFor="let option of secimcinsiyet" [value]="option.id">{{ option.label }}</mat-option>
        </mat-select>
      </mat-form-field>
    </mat-grid-tile>



    <mat-grid-tile>
      <mat-form-field class="example-full-width" appearance="fill">
        <mat-label>Hasta Kimlik No </mat-label>
        <input matInput type="number" [(ngModel)]="patient.patienT_REC_ID" #patrec pattern="/^-?\d+\.?\d*$/"
        onKeyPress="if(this.value.length== 11) return false;" required />

        <mat-hint align="end">{{patrec.value.length}} / 11</mat-hint>
      </mat-form-field>
    </mat-grid-tile>

    <mat-grid-tile>
      <mat-form-field class="example-full-width" appearance="fill">
        <mat-label>Telefon </mat-label>
        <input matInput type="number"  [(ngModel)]="patient.patienT_PHONE" #pattel pattern="/^-?\d+\.?\d*$/"
        onKeyPress="if(this.value.length== 10) return false;" required />
        <mat-hint align="end">{{pattel.value.length}} / 10</mat-hint>
      </mat-form-field>
    </mat-grid-tile>

    <mat-grid-tile>
      <mat-form-field appearance="fill">
        <mat-label>Ziyaret Tarihi</mat-label>
        <input matInput [matDatepicker]="picker2" [(ngModel)]="patient.visiT_DATETIME" required />

        <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
        <mat-datepicker #picker2></mat-datepicker>
      </mat-form-field>
    </mat-grid-tile>


    <mat-grid-tile>
      <div style="width: 100%; text-align: left">
        <section>
          <div class="example-button-row-left">
            <button mat-raised-button color="primary" (click)="ara()">Ara</button>

          </div>
        </section>
      </div>
    </mat-grid-tile>
    <mat-grid-tile>
    </mat-grid-tile>
    <mat-grid-tile>
    </mat-grid-tile>
    <mat-grid-tile>

    </mat-grid-tile>

    <mat-grid-tile>
      <div class="example-button-row">

        <button mat-raised-button color="primary" (click)="kaydet()">Kaydet</button>
      </div>
    </mat-grid-tile>
  </mat-grid-list>
  <span class="example-spacer"></span>
  <span class="example-spacer"></span>

</mat-card>



<table *ngIf="patList.length > 0" mat-table [dataSource]="patList" class="mat-elevation-z8">



  <ng-container matColumnDef="policliniC_CODE">
    <th mat-header-cell *matHeaderCellDef> Pol Kodu </th>
    <td mat-cell *matCellDef="let element"> {{element.policliniC_CODE}} </td>
  </ng-container>
  <ng-container matColumnDef="doctoR_REC_ID">
    <th mat-header-cell *matHeaderCellDef> Doktor Sicil No </th>
    <td mat-cell *matCellDef="let element"> {{element.doctoR_REC_ID}} </td>
  </ng-container>
  <ng-container matColumnDef="doctoR_NAME_SURNAME">
    <th mat-header-cell *matHeaderCellDef> Doktor Ad Soyad </th>
    <td mat-cell *matCellDef="let element"> {{element.doctoR_NAME_SURNAME}} </td>
  </ng-container>
  <ng-container matColumnDef="patienT_NAME">
    <th mat-header-cell *matHeaderCellDef> Hasta Adı </th>
    <td mat-cell *matCellDef="let element"> {{element.patienT_NAME}} </td>
  </ng-container>
  <ng-container matColumnDef="patienT_SURNAME">
    <th mat-header-cell *matHeaderCellDef> Hasta Soyadı </th>
    <td mat-cell *matCellDef="let element"> {{element.patienT_SURNAME}} </td>
  </ng-container>
  <ng-container matColumnDef="patienT_BIRTHDAY">
    <th mat-header-cell *matHeaderCellDef> Doğum Tarihi </th>
    <td mat-cell *matCellDef="let element"> {{element.patienT_BIRTHDAY | date :'dd.MM.yyyy'}} </td>
  </ng-container>


  <ng-container matColumnDef="patienT_REC_ID">
    <th mat-header-cell *matHeaderCellDef> kimlik No </th>
    <td mat-cell *matCellDef="let element"> {{element.patienT_REC_ID}} </td>
  </ng-container>
  <ng-container matColumnDef="patienT_PHONE">
    <th mat-header-cell *matHeaderCellDef> Telefon </th>
    <td mat-cell *matCellDef="let element"> {{element.patienT_PHONE}} </td>
  </ng-container>
  <ng-container matColumnDef="visiT_DATETIME">
    <th mat-header-cell *matHeaderCellDef> Ziyaret Tarihi </th>
    <td mat-cell *matCellDef="let element"> {{element.visiT_DATETIME | date :'dd.MM.yyyy HH:mm:ss'}} </td>
  </ng-container>
  <ng-container matColumnDef="nexT_VISIT_DATETIME">
    <th mat-header-cell *matHeaderCellDef> Sonraki Ziyaret Tarihi </th>
    <td mat-cell *matCellDef="let element"> {{element.nexT_VISIT_DATETIME | date :'dd.MM.yyyy HH:mm:ss'}} </td>
  </ng-container>
  <ng-container matColumnDef="doctoR_NOTE">
    <th mat-header-cell *matHeaderCellDef> Doktor Notu </th>
    <td mat-cell *matCellDef="let element"> {{element.doctoR_NOTE}} </td>
  </ng-container>


  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>


